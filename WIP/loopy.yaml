---
# logging configuration
log:
  level: debug
  file: /tmp/loopy.log
  fortune: true

# Dependencies are setup prior to installing application packages.
dependencies:
  # A list of dependant tools to check for in the path.
  tools:
    - name: helm
      bin: helm
      url: https://get.helm.sh/helm-v3.11.2-linux-amd64.tar.gz
    - name: kubectl
      bin: kubectl
      url: https://dl.k8s.io/release/v1.26.0/bin/linux/amd64/kubectl
    - name: kind
      bin: kind
      url: https://github.com/kubernetes-sigs/kind/releases/download/v0.17.0/kind-linux-amd64

  # A list of manifests to apply to the cluster. Can be a local file or a URL.
  # Manifests are applied before Helm Charts.
  manifests:
    #- name: metallb
    #  url: https://raw.githubusercontent.com/metallb/metallb/v0.13.7/config/manifests/metallb-native.yaml
    #  dir: metallb
    #- name: antrea
    #  dir: antrea
    ## Ingress option A
    #- name: contour
    #  url: https://projectcontour.io/quickstart/contour.yaml
    #  dir: contour
    ## Ingress option B
    #- name: contour-gateway
    #  url: https://projectcontour.io/quickstart/contour-gateway-provisioner.yaml
    #  dir: contour-gateway
    #- name: cert-manager
    #  dir: cert-manager
    #- name: postgresql-ha
    #  dir: postgresql-ha
    #- name: nfs-server-provisioner
    #  dir: nfs-server-provisioner

  # Helm specific configuration
  helm:
    # The helm repositories to add.
    # The name must match the name of the repo in the chart.
    repositories:
      #- name: bitnami
      #  url: https://charts.bitnami.com/bitnami
      #- name: jetstack
      #  url: https://charts.jetstack.io
      #- name: nfs-ganesha
      #  url: https://kubernetes-sigs.github.io/nfs-ganesha-server-and-external-provisioner/
      #- name: ako
      #  url: https://projects.registry.vmware.com/chartrepo/ako

    # A list of helm charts to install.
    charts:
      #- name: cert-manager
      #  repo: bitnami
      #  values: values-crds.yaml
      #- name: contour
      #  repo: bitnami
      #- name: postgresql-ha
      #  repo: bitnami
      #- name: nfs-server-provisioner
      #  repo: nfs-ganesha

    # TODO: Finish Carvel implementation.
    #carvel:

# Application specific configuration is applied after dependencies.
application:
  # A list of manifests to apply to the cluster. Can be a local file or a URL.
  # Manifests are applied before Helm Charts.
  manifests:
    #- name: ca
    #  dir: certificate-authority
    #- name: bamboo
    #  dir: bamboo
    #- name: bamboo-agent
    #  dir: bamboo-agent
    #- name: bitbucket
    #  dir: bitbucket
    #- name: confluence
    #  dir: confluence
    #- name: crowd
    #  dir: crowd
    #- name: jira
    #  dir: jira

  # Helm specific configuration
  helm:
    # The helm repositories to add.
    # The repo name must match the name of the repo in the chart.
    repositories:
    #  - name: atlassian
    #    url: https://atlassian.github.io/data-center-helm-charts

    # A list of helm charts to install.
    charts:
      #- name: bamboo
      #  repo: atlassian
      #- name: bamboo-agent
      #  repo: atlassian
      #- name: bitbucket
      #  repo: atlassian
      #- name: confluence
      #  repo: atlassian
      #- name: crowd
      #  repo: atlassian
      #- name: jira
      #  repo: atlassian

    # TODO: Finish Carvel implementation.
    #carvel:
